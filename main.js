(()=>{"use strict";const t=function(t,e,o,n,i){const r=document.createElement(t);if(n)for(let t=0;t<n.length;t+=1)r.setAttribute(n[t][0],n[t][1]);o&&r.appendChild(document.createTextNode(o)),document.getElementById(e).appendChild(r),i&&i(r)},e=JSON.parse(localStorage.projects||'{ "Default": [] }');let o,n,i=!1;function r(t){document.getElementById("todo-container").innerHTML="",c(t,e[t])}function l(t,e,o,n){this.title=t,this.description=e,this.priority=o,this.date=n}function d(d,c){const a=document.getElementById("todo-form");a&&a.remove(),t("form","todo-container",null,[["id","todo-form"],["class","todo-form"]],(t=>{t.addEventListener("submit",(t=>{!function(t,i){t.preventDefault();const{elements:d}=t.target,c=new l(d.title.value,d.description.value,d.priority.value,d.date.value);d&&(i||0===i?o[i]=c:o.push(c),e[n]=o,localStorage.projects=JSON.stringify(e),r(n))}(t,c)}))})),i=!!d||!i,i&&(t("h2","todo-form",d?d.title:"New ToDo"),t("input","todo-form",null,[["type","text"],["name","title"],["placeholder","Enter todo item title"],["value",d?d.title:""],["required",!0]]),t("input","todo-form",null,[["type","text"],["name","description"],["placeholder","Enter todo item desciption"],["value",d?d.description:""],["required",!0]]),t("input","todo-form",null,[["type","number"],["name","priority"],["placeholder","Enter todo item priority"],["value",d?d.priority:""],["required",!0]]),t("input","todo-form",null,[["type","date"],["name","date"],["placeholder","Enter todo due date"],["value",d?d.date:""],["required",!0]]),t("input","todo-form",null,[["type","submit"],["value",d?"Update Todo":"Add Todo"]]),d&&t("button","todo-form","Delete Todo Item",[["type","button"]],(t=>{t.addEventListener("click",(()=>{!function(t){o.splice(t,1),e[n]=o,localStorage.projects=JSON.stringify(e),r(n)}(c)}))})))}function c(e,i){o=i,n=e,t("h2","todo-container",n),t("ul","todo-container",null,[["id","todo-list"]]);for(let e=0;e<i.length;e+=1)t("li","todo-list",`#${i[e].priority} - ${i[e].title} ==> ${i[e].date}`,null,(t=>{t.addEventListener("click",(()=>{d(i[e],e)}))}));t("button","todo-container","New Todo",null,(t=>{t.addEventListener("click",(()=>{d()}))}))}t("h1","content","To Do List"),t("div","content",null,[["id","container"],["class","container"]]),t("div","container",null,[["id","project-container"]]),t("div","container",null,[["id","todo-container"]]),function(){t("h2","project-container","Project List"),t("ul","project-container",null,[["id","project-list"]]);for(let o=0,n=Object.keys(e);o<n.length;o+=1)t("li","project-list",n[o],[["style","cursor: pointer;"]],(t=>{t.addEventListener("click",(()=>{r(n[o])}))}));t("form","project-container",null,[["id","new-project-form"]],(o=>{o.addEventListener("submit",(o=>{!function(o){o.preventDefault();const n=o.target.elements["project-name"].value;n&&(e[n]=[],t("li","project-list",n,[["style","cursor: pointer;"]],(t=>{t.addEventListener("click",(()=>{r(n)}))})),localStorage.projects=JSON.stringify(e),o.target.elements["project-name"].value="")}(o)}))})),t("input","new-project-form",null,[["type","text"],["name","project-name"],["placeholder","Type new project name and press Enter"]])}(),r("Default")})();